var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e){return e.replace(/\n? *placeholder(\n|$)/g,"\n")}e.d(t,{A0:()=>n,TA:()=>o,qz:()=>a});const o=async(e,t)=>{const o=!0===(e.options.html??t.extractor.extractLastGlobalOption("html","demo",t.context.tagToGlobalOptions)),a=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),i=document.createElement("textarea"),r=c.attachShadow({mode:"open"}),s=document.createElement("style"),d=document.createElement("div");async function p(){const e=await t.compileUnit({tag:"code",options:{lang:"stdn",block:!0},children:i.value.split("\n").map((e=>e.split("")))});l.innerHTML="",l.append(e),e.addEventListener("click",(()=>{e.replaceWith(i),i.focus()}));const n=await t.compile(i.value,t.context.dir,{style:s,headSTDN:[[{tag:"global",options:{"css-gh":"st-org/stui@0.4.0"},children:[]}],[{tag:"global",options:{"css-gh":"st-org/sthl@0.7.0"},children:[]}],[{tag:"global",options:{"css-gh":"st-org/st-std@0.13.0","ucs-gh":"st-org/st-std@0.13.0"},children:[]}]]});if(void 0!==n){if(d.innerHTML="",d.append(n.documentFragment),o){const e=await n.compiler.compileSTDN([[{tag:"code",options:{lang:"html",block:!0},children:d.innerHTML.split("\n").map((e=>e.split("")))}]]);return d.innerHTML="",void d.append(e)}for(const e of d.querySelectorAll('a[href^="#"]')){const t=decodeURIComponent((e.getAttribute("href")??"").slice(1));e.setAttribute("href","#%20");let n=d;if(t.length>0){const e=d.querySelector(`[id=${JSON.stringify(t)}]`);if(null===e)continue;n=e}e.addEventListener("click",(e=>{e.preventDefault(),n.scrollIntoView()}))}}}return a.append(l),a.append(c),r.append(s),r.append(d),i.value=n(t.stdn.stringify(e.children)),await p(),i.addEventListener("blur",p),a},a=async(e,t)=>await t.compileUnit({tag:"code",options:{lang:"stdn",block:!0},children:n(t.stdn.stringify(e.children)).split("\n").map((e=>e.split("")))});var l=t.TA,c=t.A0,i=t.qz;export{l as demo,c as removePlaceholder,i as source};