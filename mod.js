var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t){return t.replace(/\n? *placeholder\n/g,"\n")}t.d(e,{A0:()=>n,TA:()=>o,Wy:()=>i});const o=async(t,e)=>{const o=n(e.stdn.stringify(t.children)),i=!0===(t.options.html??e.extractor.extractLastGlobalOption("html","demo",e.context.tagToGlobalOptions)),r=document.createElement("div"),l=document.createElement("div"),a=document.createElement("div"),c=a.attachShadow({mode:"open"}),s=document.createElement("style"),d=document.createElement("div");l.contentEditable="true",r.append(l),r.append(a),c.append(s),c.append(d);let p=o;async function m(){const t=await e.compileUnit({tag:"code",options:{lang:"stdn",block:!0},children:p.split("\n").map((t=>t.split("")))});l.innerHTML="",l.append(t);const n=await e.compile(p,e.context.dir,{style:s,headSTDN:[[{tag:"global",options:{"css-gh":"st-org/stui@0.4.0"},children:[]}],[{tag:"global",options:{"css-gh":"st-org/sthl@0.5.0"},children:[]}],[{tag:"global",options:{"css-gh":"st-org/st-std@0.10.0","ucs-gh":"st-org/st-std@0.10.0"},children:[]}]]});if(void 0!==n){if(d.innerHTML="",d.append(n.documentFragment),i){const t=await n.compiler.compileSTDN([[{tag:"code",options:{lang:"html",block:!0},children:d.innerHTML.split("\n").map((t=>t.split("")))}]]);return d.innerHTML="",void d.append(t)}for(const t of d.querySelectorAll('a[href^="#"]')){const e=decodeURIComponent((t.getAttribute("href")??"").slice(1));t.setAttribute("href","#%20");let n=d;if(e.length>0){const t=d.querySelector(`[id=${JSON.stringify(e)}]`);if(null===t)continue;n=t}t.addEventListener("click",(t=>{t.preventDefault(),n.scrollIntoView()}))}}}return await m(),l.addEventListener("blur",(async()=>{if(0===l.children.length)return;const t=Array.from(l.children[0].children).map((t=>t.textContent??"")).join("\n");t!==p&&(p=t,await m())})),r},i=async(t,e)=>await e.compileUnit({tag:"code",options:{lang:"stdn",block:!0},children:n(e.stdn.stringify(t.children)).split("\n").map((t=>t.split("")))});var r=e.TA,l=e.A0,a=e.Wy;export{r as demo,l as removePlaceholder,a as stdn};