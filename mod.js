var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e){return e.replace(/\n? *placeholder(\n|$)/g,"\n")}async function a(e,t){return await t.compileUnit({tag:"code",options:{lang:"stdn",block:!0},children:e.split("\n").map((e=>e.split("")))})}async function o(e,t,n,a){return await a.compile(e,a.context.dir,{style:t,headSTDN:[[{tag:"global",options:{"mod-gh":"st-org/st-std@0.25.1"},children:[]}]],root:n})}async function r(e,t){const n=await t.compileSTDN([[{tag:"code",options:{lang:"html",block:!0},children:e.innerHTML.split("\n").map((e=>e.split("")))}]]);e.innerHTML="",e.append(n)}function c(e){if(!(e.target instanceof HTMLAnchorElement&&e.currentTarget instanceof Element))return;const t=e.target.getAttribute("href");if(null===t||!t.startsWith("#"))return;e.stopPropagation(),e.preventDefault();const n=decodeURIComponent(t.slice(1));let a=e.currentTarget;if(n.length>0){const e=a.querySelector(`[id=${JSON.stringify(n)}]`);if(null===e)return;a=e}a.scrollIntoView()}e.d(t,{ji:()=>n,IT:()=>a,yK:()=>o,G2:()=>r,a$:()=>c,TA:()=>i,qz:()=>s,q6:()=>l});const i=async(e,t)=>{const i=!0===(e.options.html??t.extractor.extractLastGlobalOption("html","demo",t.context.tagToGlobalOptions)),s=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div"),p=document.createElement("textarea"),u=d.attachShadow({mode:"open"}),m=document.createElement("style"),h=document.createElement("div");l.classList.add("source"),d.classList.add("result"),s.append(l),s.append(d),u.append(m),u.append(h);let g,f=p.value=n(t.stdn.stringify(e.children));async function v(){if(void 0!==g&&p.value===f)return p.replaceWith(g),!1;if(p.disabled)return!1;p.disabled=!0,f=p.value;const e=await a(f,t);l.innerHTML="",g=e,l.append(e),e.addEventListener("click",(()=>{e.replaceWith(p),p.disabled=!1,p.focus()}));const n=await o(f,m,u,t);return void 0===n||(h.innerHTML="",h.append(n.documentFragment),!i||(await r(h,n.compiler),!0))}return await v(),h.addEventListener("click",c),p.addEventListener("blur",(async()=>{await v()&&s.dispatchEvent(new Event("adjust",{bubbles:!0,composed:!0}))})),s},s=async(e,t)=>await a(n(t.stdn.stringify(e.children)),t),l=async(e,t)=>{const n=!0===(e.options.html??t.extractor.extractLastGlobalOption("html","result",t.context.tagToGlobalOptions)),a=document.createElement("div"),i=a.attachShadow({mode:"open"}),s=document.createElement("style"),l=document.createElement("div");i.append(s),i.append(l);const d=await o(t.stdn.stringify(e.children),s,i,t);return void 0===d?a:(l.append(d.documentFragment),n?(await r(l,d.compiler),a):(l.addEventListener("click",c),a))};var d=t.IT,p=t.TA,u=t.ji,m=t.q6,h=t.yK,g=t.a$,f=t.qz,v=t.G2;export{d as createSourcePre,p as demo,u as removePlaceholders,m as result,h as shadowCompile,g as shadowHashAnchorsListener,f as source,v as toHTMLPre};